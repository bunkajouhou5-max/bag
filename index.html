<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>é¿é›£è¢‹æº–å‚™ã—ã¦ã‚‹ï¼Ÿï¼Ÿ</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');

body {
    font-family: 'Pacifico', cursive;
    margin: 0;
    padding: 20px;
    background: linear-gradient(135deg, #ffe6f0, #d0c4ff, #b0f0ff);
    overflow-x: hidden;
    position: relative;
    min-height: 100vh;
}

h1, h2, h3 { text-align: center; color: #d63384; text-shadow: 0 0 8px #fff; }

/* æ˜Ÿã‚¢ãƒ‹ãƒ¡ */
.star {
    position: absolute;
    width: 10px;
    height: 10px;
    background: white;
    border-radius: 50%;
    opacity: 0.8;
    animation: fall linear infinite;
}
@keyframes fall {
    0% { transform: translateY(-10px) translateX(0) scale(0.5); opacity:0;}
    50% { opacity:1;}
    100% { transform: translateY(100vh) translateX(50px) scale(1); opacity:0;}
}

/* ã‚«ãƒ¼ãƒ‰ */
.question-card {
    background: rgba(255,255,255,0.7);
    border-radius: 2rem;
    box-shadow: 0 8px 20px rgba(255,182,193,0.5);
    padding: 1.6rem;
    margin-bottom: 1.5rem;
    position: relative;
    transition: transform 0.2s;
}
.question-card:hover { transform: translateY(-5px); }

/* ãƒœã‚¿ãƒ³ */
button {
    padding: 12px 24px;
    border-radius: 999px;
    border: none;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    width: 45%;
    transition: transform 0.2s, box-shadow 0.2s;
}
button:hover { transform: scale(1.05); box-shadow: 0 0 12px #fff; }

.yes-btn { background: linear-gradient(45deg, #ffb6c1, #ff69b4); color: white; }
.no-btn  { background: linear-gradient(45deg, #ff69b4, #ff1493); color: white; }
.nav-btn { background: #fff0f8; color: #d63384; border: 2px solid #ff69b4; font-weight:bold; }

.btn-row { display:flex; justify-content:space-between; margin-bottom:20px; }
.section { max-width:500px; margin:auto; }

.correct { color: #d63384; font-weight:bold; }
.wrong { color: #c71585; font-weight:bold; }

.result-category { text-align:center; color:white; text-shadow:0 0 6px #ff69b4; background: linear-gradient(90deg,#ffb6c1,#ff69b4,#ffb6c1); border-radius:1rem; padding:0.5rem; margin:1rem 0; }
</style>
</head>
<body>
<div id="app" class="section"></div>

<script>
/* =======================================
   æ˜Ÿã‚¢ãƒ‹ãƒ¡ç”Ÿæˆ
======================================= */
for(let s=0; s<30; s++){
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random()*100 + 'vw';
    star.style.animationDuration = (Math.random()*5+5)+'s';
    star.style.width = star.style.height = (Math.random()*5+5)+'px';
    document.body.appendChild(star);
}

/* =======================================
   è³ªå•ãƒ‡ãƒ¼ã‚¿
======================================= */
const QUESTIONS = [
  {id:1, text:"é£²æ–™æ°´ã‚’æº–å‚™ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"once", desc:"1äºº1æ—¥1Lä»¥ä¸Šã€æœ€ä½1æ—¥åˆ†"},
  {id:2, text:"å¸¸å‚™è–¬ã‚’å…¥ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"once", desc:"ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼è–¬ãƒ»é¢¨é‚ªè–¬ãƒ»çµ†å‰µè†ãªã©"},
  {id:3, text:"ãƒ©ã‚¤ãƒˆãƒ»æ‡ä¸­é›»ç¯ã‚’å…¥ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"once", desc:"åœé›»æ™‚ã«å¿…é ˆ"},
  {id:4, text:"ç¾é‡‘ãƒ»èº«åˆ†è¨¼ã‚’å…¥ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"once", desc:"åœé›»æ™‚ã¯é›»å­æ±ºæ¸ˆãŒä½¿ãˆãªã„"},
  {id:5, text:"ä¸‹ç€ãƒ»é˜²å¯’ç€1ã‚»ãƒƒãƒˆã‚’å…¥ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"once", desc:"æœ€ä½é™ã®è¡£é¡"},
  {id:6, text:"æºå¸¯ãƒ©ã‚¸ã‚ªãƒ»ã‚¹ãƒãƒ›å……é›»å™¨ã‚’å…¥ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"bonus", category:"once", desc:"æƒ…å ±åé›†ç”¨"},

  {id:7, text:"é£²æ–™æ°´ã‚’è¿½åŠ ã§æº–å‚™ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"twice", desc:"3æ—¥åˆ†ç›®å®‰"},
  {id:8, text:"éå¸¸é£Ÿï¼ˆè³å‘³æœŸé™å†…ï¼‰ã‚’å…¥ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"twice", desc:"3æ—¥åˆ†ç›®å®‰"},
  {id:9, text:"ã‚¿ã‚ªãƒ«ãƒ»ã‚¢ãƒ«ãƒŸã‚·ãƒ¼ãƒˆã‚’å…¥ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"twice", desc:"é˜²å¯’ãƒ»ä½“æ¸©ä¿æŒã«é‡è¦"},
  {id:10, text:"è¡›ç”Ÿç”¨å“ï¼ˆãƒã‚¹ã‚¯ãƒ»ã‚¦ã‚§ãƒƒãƒˆãƒ†ã‚£ãƒƒã‚·ãƒ¥ãƒ»ç°¡æ˜“ãƒˆã‚¤ãƒ¬ï¼‰ã‚’å…¥ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"twice", desc:"é¿é›£æ‰€ã®è¡›ç”Ÿå¯¾ç­–"},
  {id:11, text:"ãƒ˜ãƒ«ãƒ¡ãƒƒãƒˆãƒ»è»æ‰‹ã‚’æº–å‚™ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"bonus", category:"twice", desc:"é¿é›£ã‚„ç“¦ç¤«æ’¤å»ã«å½¹ç«‹ã¤"},
  {id:12, text:"å®‰çœ ç”¨å“ï¼ˆè€³æ “ãƒ»ã‚¢ã‚¤ãƒã‚¹ã‚¯ï¼‰ã‚’æº–å‚™ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"bonus", category:"twice", desc:"é¿é›£æ‰€ã®ç¡çœ å¯¾ç­–"},
  {id:13, text:"ãƒ“ãƒ‹ãƒ¼ãƒ«è¢‹ã‚’å…¥ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"bonus", category:"twice", desc:"ã”ã¿è¢‹ãƒ»é˜²æ°´ãƒ»è·ç‰©æ•´ç†ç”¨"},
  {id:14, text:"ç¬›ã‚’æº–å‚™ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"bonus", category:"twice", desc:"åŠ©ã‘ã‚’å‘¼ã¶ã¨ãã«å½¹ç«‹ã¤"},

  {id:15, text:"é£Ÿæ–™ï¼ˆé•·æœŸä¿å­˜å¯èƒ½ï¼‰ã‚’å‚™è“„ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"stock", desc:"1é€±é–“åˆ†ä»¥ä¸Šç›®å®‰"},
  {id:16, text:"é£²æ–™æ°´ã‚’å‚™è“„ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"stock", desc:"1é€±é–“åˆ†ç›®å®‰"},
  {id:17, text:"è¿½åŠ è¡£é¡ãƒ»é˜²å¯’ç€ã‚’å‚™è“„ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"must", category:"stock", desc:"å­£ç¯€ã«å¿œã˜ã¦"},
  {id:18, text:"å­£ç¯€ç”¨å“ï¼ˆã‚«ã‚¤ãƒ­ãƒ»æ—¥ç„¼ã‘æ­¢ã‚ãƒ»æ‰‡å­ï¼‰ã‚’å‚™è“„ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"bonus", category:"stock", desc:"å¿«é©ã•å‘ä¸Š"},
  {id:19, text:"å¤šç›®çš„é“å…·ï¼ˆãƒŠã‚¤ãƒ•ãƒ»ãƒ­ãƒ¼ãƒ—ãƒ»ã‚¬ãƒ ãƒ†ãƒ¼ãƒ—ãªã©ï¼‰ã‚’å‚™è“„ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"bonus", category:"stock", desc:"ç·Šæ€¥æ™‚ã«ä¾¿åˆ©"},
  {id:20, text:"ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒ†ãƒªãƒ¼ã‚’å‚™è“„ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ", type:"bonus", category:"stock", desc:"äºˆå‚™ã¨ã—ã¦ä¿ç®¡"}
];

let page="home", i=0, mustScore=0, bonusScore=0, wrongList=[];

/* =======================================
   æç”»é–¢æ•°
======================================= */
function render(){
  const app = document.getElementById("app");
  if(page==="home"){
    app.innerHTML=`
      <h1>ã‚†ã‚ã‹ã‚é¿é›£è¢‹è¨ºæ–­ğŸŒˆğŸ’–</h1>
      <p style="text-align:center;">ã‚ãªãŸã®é¿é›£è¢‹ã€ã©ã‚Œãã‚‰ã„å¤¢ã‹ã‚ãƒ—ãƒªãƒ³ã‚»ã‚¹ç´šã«å®Œç’§ã‹ãªï¼Ÿâœ¨</p>
      <div style="text-align:center;">
        <button class="nav-btn" onclick="startQuiz()">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆğŸ’–â–¶</button>
      </div>
    `;
  } else if(page==="quiz"){
    const q=QUESTIONS[i];
    app.innerHTML=`
      <h2>è³ªå• ${i+1} / ${QUESTIONS.length}</h2>
      <div class="question-card">${q.text}</div>
      <div class="btn-row">
        <button class="yes-btn" onclick="choose(true)">ã¯ã„ğŸ’–</button>
        <button class="no-btn" onclick="choose(false)">ã„ã„ãˆğŸ’”</button>
      </div>
      <div class="btn-row">
        <button class="nav-btn" onclick="prev()" ${i===0?"disabled":""}>å‰ã¸</button>
        <button class="nav-btn" onclick="goHome()">ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</button>
      </div>
    `;
  } else if(page==="result"){
    const base=mustScore;
    const bonus=Math.min(bonusScore,20);
    const total=Math.min(base+bonus,120);
    const onceList=wrongList.filter(q=>q.category==="once");
    const twiceList=wrongList.filter(q=>q.category==="twice");
    const stockList=wrongList.filter(q=>q.category==="stock");
    function renderList(list){ 
      if(list.length===0) return "<p class='correct'>å®Œç’§ã§ã™ï¼âœ¨ğŸ’–</p>";
      return list.map(q=>`<div class="question-card wrong">âœ– ${q.text}<p>${q.desc}</p></div>`).join("");
    }
    app.innerHTML=`
      <h1>è¨ºæ–­çµæœğŸŒˆğŸ’–</h1>
      <h2>é¿é›£è¢‹ã®å……å®Ÿåº¦ï¼š${total.toFixed(1)}%</h2>
      <p>å¿…é ˆã‚¢ã‚¤ãƒ†ãƒ ï¼š${base}%</p>
      <p>è¿½åŠ ã‚¢ã‚¤ãƒ†ãƒ ï¼š+${bonus.toFixed(1)}%</p>

      <div class="result-category">ä¸€æ¬¡æŒã¡å‡ºã—è¢‹</div>
      ${renderList(onceList)}

      <div class="result-category">äºŒæ¬¡æŒã¡å‡ºã—è¢‹</div>
      ${renderList(twiceList)}

      <div class="result-category">è‡ªå®…ã‚¹ãƒˆãƒƒã‚¯</div>
      ${renderList(stockList)}

      <div style="text-align:center; margin-top:20px;">
        <button class="nav-btn" onclick="goHome()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ğŸ’–</button>
      </div>
    `;
  }
}

/* =======================================
   ã‚¤ãƒ™ãƒ³ãƒˆé–¢æ•°
======================================= */
function startQuiz(){ page="quiz"; i=0; mustScore=0; bonusScore=0; wrongList=[]; render(); }
function choose(answer){
  const q=QUESTIONS[i];
  if(answer){ if(q.type==="must") mustScore+=10; else if(q.type==="bonus") bonusScore+=3.3; }
  else{ wrongList.push(q); }
  if(i===QUESTIONS.length-1) page="result"; else i++;
  render();
}
function prev(){ if(i>0) i--; render(); }
function goHome(){ page="home"; render(); }

/* åˆæœŸè¡¨ç¤º */
render();
</script>
</body>
</html>

